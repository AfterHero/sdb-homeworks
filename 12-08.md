# Домашнее задание к занятию 12.8. «Резервное копирование баз данных» Гуров П.П


### Задание 1. Резервное копирование
### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 
Необходимо описать, какие варианты резервного копирования подходят в случаях: 
- 1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.
- 1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

### Ответ:
- 1.1 Метод инкрементного резервного копирования, полный бэкап делается в последний день недели, а остальные дни инкрементные копии.
- 1.2 Полное резервное копирование ежедневно, дифференциальное копирование каждые 4 часа и каждый час инкрементное резервное копирование.

### Задание 2. PostgreSQL
2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).
### Ответ:
```
pg_dump zabbix > /tmp/zabbix.dump  
pg_restore -d zabbix /tmp/zabbix.dump
```
### Задание 3. MySQL
3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 
### Ответ:
Для начала полный бэкап
```
mysqldump -uroot -p --all-databases --single-transaction --flush-logs --master-data=2 > full_backup.sql
```
Очищаем бинарные логи и сохраняем бинарные логи, созданные из последней полной резервной копии.
```
mysqladmin -uroot -p flush-logs
```
